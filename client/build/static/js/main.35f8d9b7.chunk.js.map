{"version":3,"sources":["components/Header.js","context/TransactionsContext.js","utils/format.js","components/Balance.js","components/IncomeExpenses.js","components/Transaction.js","components/TransactionList.js","components/AddTransaction.js","App.js","index.js"],"names":["Header","title","initialState","TransactionsContext","createContext","useTransactionsContext","useContext","TransactionsProvider","children","useState","transactions","setTransactions","errors","setErrors","loading","a","axios","get","response","data","error","id","delete","newTransactionsList","filter","transaction","_id","config","headers","post","newList","push","Provider","value","deleteTransaction","addTransaction","getTransactions","numberWithCommas","x","toString","replace","Balance","total","map","amount","reduce","acc","item","toFixed","IncomeExpenses","amounts","income","expense","console","log","className","Transaction","sign","style","text","Math","abs","onClick","TransactionList","useEffect","AddTransaction","setText","setAmount","onSubmit","e","preventDefault","newTransactions","floor","random","htmlFor","type","onChange","target","placeholder","palceholder","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.35f8d9b7.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Header = ({ title }) => {\r\n  return <h2>{title}</h2>;\r\n};\r\n\r\nexport default Header;\r\n","import React, { createContext, useContext, useState } from 'react';\r\nimport axios from 'axios';\r\n\r\n// Initial state\r\nconst initialState = {\r\n  transactions: [],\r\n  error: null,\r\n  loading: true\r\n};\r\n\r\n// Create context\r\nexport const TransactionsContext = createContext();\r\n\r\n// Export context hooks to access state and actions\r\nexport function useTransactionsContext() {\r\n  return useContext(TransactionsContext);\r\n}\r\n\r\n// Provider component\r\nexport const TransactionsProvider = ({ children }) => {\r\n  const [transactions, setTransactions] = useState(initialState.transactions);\r\n  const [errors, setErrors] = useState(initialState.error);\r\n  const [loading, setLoading] = useState(initialState.loading);\r\n\r\n  // Actions\r\n  async function getTransactions() {\r\n    try {\r\n      const response = await axios.get('/api/v1/transactions');\r\n\r\n      setTransactions(response.data.data);\r\n    } catch (err) {\r\n      setErrors(err.response.data.error);\r\n    }\r\n  }\r\n\r\n  async function deleteTransaction(id) {\r\n    try {\r\n      // delete from database\r\n      await axios.delete(`/api/v1/transactions/${id}`);\r\n\r\n      // delete from ui\r\n      const newTransactionsList = transactions.filter(\r\n        (transaction) => transaction._id !== id\r\n      );\r\n      setTransactions(newTransactionsList);\r\n    } catch (err) {\r\n      setErrors(err.response.data.error);\r\n    }\r\n  }\r\n\r\n  async function addTransaction(transaction) {\r\n    const config = {\r\n      headers: {\r\n        'Content-type': 'application/json'\r\n      }\r\n    };\r\n\r\n    try {\r\n      // add to database\r\n      const response = await axios.post(\r\n        '/api/v1/transactions',\r\n        transaction,\r\n        config\r\n      );\r\n\r\n      // add to ui\r\n      const newList = [...transactions];\r\n      newList.push(response.data.data);\r\n      setTransactions(newList);\r\n    } catch (err) {\r\n      setErrors(err.response.data.error);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <TransactionsContext.Provider\r\n      value={{\r\n        transactions,\r\n        errors,\r\n        loading,\r\n        deleteTransaction,\r\n        addTransaction,\r\n        getTransactions\r\n      }}>\r\n      {children}\r\n    </TransactionsContext.Provider>\r\n  );\r\n};\r\n","export function numberWithCommas(x) {\r\n  return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\r\n}\r\n","import React from 'react';\r\n\r\nimport { useTransactionsContext } from '../context/TransactionsContext';\r\nimport { numberWithCommas } from '../utils/format';\r\n\r\nconst Balance = () => {\r\n  const { transactions } = useTransactionsContext();\r\n\r\n  const amounts = transactions.map((transaction) => transaction.amount);\r\n  const total = amounts.reduce((acc, item) => acc + item, 0).toFixed(2);\r\n\r\n  return (\r\n    <>\r\n      <h4>Your Balance</h4>\r\n      <h1>${numberWithCommas(total)}</h1>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Balance;\r\n","import React from 'react';\r\n\r\nimport { useTransactionsContext } from '../context/TransactionsContext';\r\nimport { numberWithCommas } from '../utils/format';\r\n\r\nconst IncomeExpenses = () => {\r\n  const { transactions } = useTransactionsContext();\r\n\r\n  const amounts = transactions.map((transaction) => transaction.amount);\r\n  const income = amounts\r\n    .filter((amount) => amount > 0)\r\n    .reduce((acc, item) => acc + item, 0);\r\n\r\n  const expense =\r\n    amounts\r\n      .filter((amount) => amount < 0)\r\n      .reduce((acc, item) => acc + item, 0) * -1;\r\n\r\n  console.log(transactions, amounts, income, expense);\r\n\r\n  return (\r\n    <div className='inc-exp-container'>\r\n      <div>\r\n        <h4>Income</h4>\r\n        <p className='money plus'>+${numberWithCommas(income.toFixed(2))}</p>\r\n      </div>\r\n      <div>\r\n        <h4>Expenses</h4>\r\n        <p className='money minus'>-${numberWithCommas(expense.toFixed(2))}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default IncomeExpenses;\r\n","import React from 'react';\r\n\r\nimport { useTransactionsContext } from '../context/TransactionsContext';\r\nimport { numberWithCommas } from '../utils/format';\r\n\r\nconst Transaction = ({ transaction }) => {\r\n  const { deleteTransaction } = useTransactionsContext();\r\n\r\n  const sign = transaction.amount > 0 ? '+' : '-';\r\n  const style = transaction.amount > 0 ? 'plus' : 'minus';\r\n\r\n  return (\r\n    <li className={style}>\r\n      {transaction.text}{' '}\r\n      <span>\r\n        {' '}\r\n        {sign}${numberWithCommas(Math.abs(transaction.amount).toFixed(2))}{' '}\r\n      </span>\r\n      <button\r\n        className='delete-btn'\r\n        onClick={() => deleteTransaction(transaction._id)}>\r\n        x\r\n      </button>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default Transaction;\r\n","import React, { useEffect } from 'react';\r\n\r\nimport { useTransactionsContext } from '../context/TransactionsContext';\r\nimport Transaction from './Transaction';\r\n\r\nconst TransactionList = () => {\r\n  const { transactions, getTransactions } = useTransactionsContext();\r\n\r\n  useEffect(() => {\r\n    getTransactions();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <h3>History</h3>\r\n      <ul className='list'>\r\n        {transactions.map((transaction) => (\r\n          <Transaction key={transaction._id} transaction={transaction} />\r\n        ))}\r\n      </ul>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default TransactionList;\r\n","import React, { useState } from 'react';\r\n\r\nimport { useTransactionsContext } from '../context/TransactionsContext';\r\n\r\nconst AddTransaction = () => {\r\n  const [text, setText] = useState('');\r\n  const [amount, setAmount] = useState(0);\r\n\r\n  const { addTransaction } = useTransactionsContext();\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    const newTransactions = {\r\n      id: Math.floor(Math.random() * 999999999),\r\n      text,\r\n      amount: +amount\r\n    };\r\n\r\n    addTransaction(newTransactions);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <h3>Add new transaction</h3>\r\n      <form onSubmit={handleSubmit}>\r\n        <div className='form-control'>\r\n          <label htmlFor='text'>Text</label>\r\n          <input\r\n            type='text'\r\n            value={text}\r\n            onChange={(e) => setText(e.target.value)}\r\n            placeholder='Enter text...'\r\n          />\r\n        </div>\r\n        <div className='form-control'>\r\n          <label htmlFor='amount'>\r\n            Amount <br />\r\n            (negative - expense, positive - income)\r\n          </label>\r\n          <input\r\n            type='number'\r\n            value={amount}\r\n            onChange={(e) => setAmount(e.target.value)}\r\n            palceholder='Enter amount...'\r\n          />\r\n        </div>\r\n        <button className='btn'>Add transaction</button>\r\n      </form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AddTransaction;\r\n","import './App.css';\n\nimport Header from './components/Header';\nimport Balance from './components/Balance.js';\nimport IncomeExpenses from './components/IncomeExpenses';\nimport TransactionList from './components/TransactionList';\nimport AddTransaction from './components/AddTransaction';\n\nfunction App() {\n  return (\n    <div>\n      <Header title='Expense Tracker' />\n      <div className='container'>\n        <Balance />\n        <IncomeExpenses />\n        <TransactionList />\n        <AddTransaction />\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { TransactionsProvider } from './context/TransactionsContext';\n\nReactDOM.render(\n  <React.StrictMode>\n    <TransactionsProvider>\n      <App />\n    </TransactionsProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}