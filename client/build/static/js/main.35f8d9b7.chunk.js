(this["webpackJsonpexpense-tracker"]=this["webpackJsonpexpense-tracker"]||[]).push([[0],{24:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(18),s=n.n(a),i=(n(24),n(0)),o=function(e){var t=e.title;return Object(i.jsx)("h2",{children:t})},u=n(19),j=n(4),l=n.n(j),d=n(7),b=n(3),x=n(8),p=n.n(x),h=[],O=null,f=!0,m=Object(r.createContext)();function v(){return Object(r.useContext)(m)}var g=function(e){var t=e.children,n=Object(r.useState)(h),c=Object(b.a)(n,2),a=c[0],s=c[1],o=Object(r.useState)(O),j=Object(b.a)(o,2),x=j[0],v=j[1],g=Object(r.useState)(f),y=Object(b.a)(g,2),k=y[0];y[1];function N(){return(N=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("/api/v1/transactions");case 3:t=e.sent,s(t.data.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),v(e.t0.response.data.error);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function w(){return(w=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.delete("/api/v1/transactions/".concat(t));case 3:n=a.filter((function(e){return e._id!==t})),s(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),v(e.t0.response.data.error);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function F(){return(F=Object(d.a)(l.a.mark((function e(t){var n,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{"Content-type":"application/json"}},e.prev=1,e.next=4,p.a.post("/api/v1/transactions",t,n);case 4:r=e.sent,(c=Object(u.a)(a)).push(r.data.data),s(c),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),v(e.t0.response.data.error);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}return Object(i.jsx)(m.Provider,{value:{transactions:a,errors:x,loading:k,deleteTransaction:function(e){return w.apply(this,arguments)},addTransaction:function(e){return F.apply(this,arguments)},getTransactions:function(){return N.apply(this,arguments)}},children:t})};function y(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}var k=function(){var e=v().transactions.map((function(e){return e.amount})).reduce((function(e,t){return e+t}),0).toFixed(2);return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("h4",{children:"Your Balance"}),Object(i.jsxs)("h1",{children:["$",y(e)]})]})},N=function(){var e=v().transactions,t=e.map((function(e){return e.amount})),n=t.filter((function(e){return e>0})).reduce((function(e,t){return e+t}),0),r=-1*t.filter((function(e){return e<0})).reduce((function(e,t){return e+t}),0);return console.log(e,t,n,r),Object(i.jsxs)("div",{className:"inc-exp-container",children:[Object(i.jsxs)("div",{children:[Object(i.jsx)("h4",{children:"Income"}),Object(i.jsxs)("p",{className:"money plus",children:["+$",y(n.toFixed(2))]})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("h4",{children:"Expenses"}),Object(i.jsxs)("p",{className:"money minus",children:["-$",y(r.toFixed(2))]})]})]})},w=function(e){var t=e.transaction,n=v().deleteTransaction,r=t.amount>0?"+":"-",c=t.amount>0?"plus":"minus";return Object(i.jsxs)("li",{className:c,children:[t.text," ",Object(i.jsxs)("span",{children:[" ",r,"$",y(Math.abs(t.amount).toFixed(2))," "]}),Object(i.jsx)("button",{className:"delete-btn",onClick:function(){return n(t._id)},children:"x"})]})},F=function(){var e=v(),t=e.transactions,n=e.getTransactions;return Object(r.useEffect)((function(){n()}),[]),Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("h3",{children:"History"}),Object(i.jsx)("ul",{className:"list",children:t.map((function(e){return Object(i.jsx)(w,{transaction:e},e._id)}))})]})},S=function(){var e=Object(r.useState)(""),t=Object(b.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(0),s=Object(b.a)(a,2),o=s[0],u=s[1],j=v().addTransaction;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("h3",{children:"Add new transaction"}),Object(i.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={id:Math.floor(999999999*Math.random()),text:n,amount:+o};j(t)},children:[Object(i.jsxs)("div",{className:"form-control",children:[Object(i.jsx)("label",{htmlFor:"text",children:"Text"}),Object(i.jsx)("input",{type:"text",value:n,onChange:function(e){return c(e.target.value)},placeholder:"Enter text..."})]}),Object(i.jsxs)("div",{className:"form-control",children:[Object(i.jsxs)("label",{htmlFor:"amount",children:["Amount ",Object(i.jsx)("br",{}),"(negative - expense, positive - income)"]}),Object(i.jsx)("input",{type:"number",value:o,onChange:function(e){return u(e.target.value)},palceholder:"Enter amount..."})]}),Object(i.jsx)("button",{className:"btn",children:"Add transaction"})]})]})};var T=function(){return Object(i.jsxs)("div",{children:[Object(i.jsx)(o,{title:"Expense Tracker"}),Object(i.jsxs)("div",{className:"container",children:[Object(i.jsx)(k,{}),Object(i.jsx)(N,{}),Object(i.jsx)(F,{}),Object(i.jsx)(S,{})]})]})};s.a.render(Object(i.jsx)(c.a.StrictMode,{children:Object(i.jsx)(g,{children:Object(i.jsx)(T,{})})}),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.35f8d9b7.chunk.js.map